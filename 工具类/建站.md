# 购买云服务器

于阿里云购买 ECS 服务器。

实例名称：`iZuf6b87fb1fzd0htv51ccZ`。

IP 地址： `101.132.100.245`。

系统用户名： `root`。

<img src="https://gitee.com/ethereal-bang/images/raw/master/20211102233808.png" alt="image-20211102233808525" style="zoom:150%;" />



1. 进入阿里云服务器控制台选择[服务器实例](https://ecs.console.aliyun.com/?spm=5176.8789780.J_5834642020.2.6f8545b5B407Vw&accounttraceid=2c30dda864ae4b909e4b38dae8d8a5b8fqxw#/server/region/cn-shanghai)，重置密码设置个人的**云服务登录密码**。



# 登录云服务器

选择一款 SSH 工具登录远程服务器。常见的SSH工具有 putty、xshell、xftp、SecureCRT 等。 

1. 这里选择了 XShell、XFtp。

2. Xshell 中首次创建会话：

    其中名称自定义，主机填公网 IP，其他默认。

    <img src="https://gitee.com/ethereal-bang/images/raw/master/20211103000016.png" alt="image-20211103000016704" style="zoom:50%;" />

3. Xshell 中连接远程服务器：

    首先出现 SSH 警告，点接受并保存。然后输入系统用户名`root`和上一步中重置的密码。

4. 然后在上部栏选择**新建文件传输**：

    <img src="https://gitee.com/ethereal-bang/images/raw/master/20211103001131.png" alt="image-20211103001131433" style="zoom:50%;" />

    之后自动打开登录后的 Xftp。

5. Xftp 内拖拽文件到服务器。

    <img src="https://gitee.com/ethereal-bang/images/raw/master/20211103001234.png" alt="image-20211103001234824" style="zoom:50%;" />

接下来的操作就与在服务器本身操作一样了（直接在阿里云的远程连接也可）。==？==



# 在云服务器上安装 Node.js、Express

以下的操作都是在云服务器 CentOS 系统进行的。

> **CentOS 与 Linux 关系：**
>
> Linux 通常指的是 linux 内核

> **Linux 常用指令:**
>
> `ll`：当前目录下文件夹
>
> `cd [目录名]`：进入(当前目录下的)指定文件夹
>
> ![image-20211103200651164](https://gitee.com/ethereal-bang/images/raw/master/20211103200658.png)
>
> 更多移步[Linux命令大全(手册)-真正好用的Linux命令在线查询网站](https://www.linuxcool.com/)



## 下载 Node.js

1. Node.js 官网中查找Linux对应的二进制安装包（`.xz`文件），复制链接地址：

    这里是`https://nodejs.org/dist/v16.13.0/node-v16.13.0-linux-x64.tar.xz`

2. 通过 Xshell 在服务器下载 Node.js：

    这里将其安装在`usr/local`文件夹

    ```shell
    # cd 
    # cd ..
    # cd usr
    # cd local
    # wget https://nodejs.org/dist/v16.13.0/node-v16.13.0-linux-x64.tar.xz
    ```

3. 解压和重命名刚才下载的 node 文件

    ```shell
    # xz -d node-v16.13.0-linux-x64.tar.xz
    # tar -xf node-v16.13.0-linux-x64.tar
    # mv node-v16.13.0-linux-x64 node
    ```

4. 验证：

    ```shell
    # cd node/bin
    # ./node-v
    v16.13.0
    ```



## 配置 Node.js 环境变量

不配置的话无法在全局任意位置使用node和npm指令。

1. 打开文本编辑器编辑`/etc/profile`：

    任意路径输入下列指令:

    ```shell
    # vim /etc/profile
    ```

2. 移动光标，`i`键启动文本编辑

    ```shell
    fi
    #set nodejs env 
    export NODE_HOME=/usr/local/node
    export PATH=$NODE_HOME/bin:$PATH
    export NODE_PATH=$NODE_HOME/lib/node_modules:$PATH
    ```

3. 编辑完毕，ESC 键退出文本编辑，键入`:wq`保存并退出

    （不正常退出会很麻烦）

4. 重启配置项使环境变量生效：

    ```shell
    # source /etc/profile
    ```

5. 验证：

    ```shell
    # node -v
    v16.13.0
    # npm -v
    8.1.0
    ```

    

## 安装 Express

1. 安装 express 框架：

    ```bash
    # npm install -g express
    ```

2. 安装 express-generator：

    用于全局使用 express 命令。

    ```bash
    # npm i -g express-generator
    ```

3. 验证：

    ```bash
    # express --version
    ```



# 使用 Express 快速搭建服务器





# 暂存

![image-20211102222019156](https://gitee.com/ethereal-bang/images/raw/master/20211102222019.png)

2753DC81777D0D234D

![image-20211102222035873](https://gitee.com/ethereal-bang/images/raw/master/20211102222035.png)

![image-20211102222046499](https://gitee.com/ethereal-bang/images/raw/master/20211102222046.png)

![image-20211102222053777](https://gitee.com/ethereal-bang/images/raw/master/20211102222053.png)

# 参考资源

[阿里云ECS服务器前后端项目部署 - 掘金](https://juejin.cn/post/6908323868360835085)

[超详细！阿里云ECS服务器建站指南！- 知乎](https://zhuanlan.zhihu.com/p/48246138)

